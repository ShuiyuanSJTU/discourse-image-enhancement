<section class="search-container">
  <ScrollTracker
    @name="full-page-search"
    @tag={{this.searchTerm}}
    class="hidden"
  />

  <div class="search-header image-search-header" role="search">
    <h1 class="search-page-heading">
      {{i18n "search.full_page_title"}}
    </h1>
    <div class="search-bar">
      <SearchTextField
        @value={{this.searchTerm}}
        @aria-label={{i18n "search.search_term_label"}}
        @enter={{action "search" (hash collapseFilters=true)}}
        @hasAutofocus={{this.hasAutofocus}}
        @aria-controls="search-result-count"
        class="full-page-search search no-blur search-query"
      />
      <ComboBox
        @id="search-type"
        @value={{this.searchType}}
        @content={{this.searchTypes}}
        @onChange={{fn (mut this.searchType)}}
        @options={{hash castInteger=true}}
      />
      <DButton
        @action={{fn (action "search") (hash collapseFilters=true)}}
        @icon="search"
        @label="search.search_button"
        @ariaLabel="search.search_button"
        @disabled={{this.searchButtonDisabled}}
        class="btn-primary search-cta"
      />
    </div>

    <div class="search-notice">
      {{#if this.invalidSearch}}
        <div class="fps-invalid">
          {{i18n "search.too_short"}}
        </div>
      {{/if}}
    </div>

    {{#if this.searching}}
      {{loading-spinner size="medium"}}
    {{else}}
    {{/if}}
  </div>

  {{#unless (or this.hasResults this.searching)}}
    {{#if this.searchActive}}
      <h3 class="image-search-no-results">{{i18n "search.no_results"}}</h3>
    {{/if}}
  {{/unless}}

  {{#if this.hasResults}}
  <ImageSearchResultEntries
    @resultEntries = {{this.resultEntries}}
  />
  {{/if}}
</section>